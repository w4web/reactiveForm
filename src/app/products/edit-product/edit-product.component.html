<div class="container py-5" style="max-width: 600px;">

    <h3 class="mb-3">
        <span *ngIf="isAdd">Add product</span>
        <span *ngIf="!isAdd">Edit product</span>
    </h3>

    <div class="card">
        <div class="card-body">

            <form [formGroup]="form" (ngSubmit)="onSubmit()" class="row g-3 needs-validation" novalidate>

                <div class="col-12">
                    <label class="form-label">Name</label>
                    <input 
                        type="text" 
                        formControlName="name" 
                        class="form-control" 
                        [ngClass]="{ 'is-invalid': f['name']['invalid'] && (f['name']['dirty'] || f['name']['touched']) }"
                        required>
                    <div *ngIf="f['name']['errors'] && (f['name']['dirty'] || f['name']['touched'])" class="invalid-feedback">
                        <div *ngIf="f['name']['errors']['required']">Name is required</div>
                        <div *ngIf="f['name']['errors']['minlength']">Name Must be at least 4 charecters long!</div>
                        <div *ngIf="f['name']['errors']['pattern']">Name pattern is not valid</div>
                        <div *ngIf="f['name']['errors']['nameNotAllowed']">This name is NOT allowed</div>
                    </div>
                </div>


                <div class="col-12">
                    <button 
                        type="submit" 
                        class="btn btn-outline-primary" 
                        [disabled]="!form.valid">
                        Save
                    </button>
                    <button 
                        style="margin-left: 10px;"
                        type="button" 
                        (click)="previousState()" 
                        class="btn btn-outline-secondary">
                        Back
                    </button>
                    <button #reset hidden type="reset">reset</button>
                </div>
            </form>

        </div>
    </div>

</div>